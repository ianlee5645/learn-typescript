(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{423:function(t,a,s){t.exports=s.p+"assets/img/file01.69bba19d.png"},424:function(t,a,s){t.exports=s.p+"assets/img/file02.e6fb1848.png"},438:function(t,a,s){"use strict";s.r(a);var e=s(2),r=Object(e.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"类型声明文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#类型声明文件"}},[t._v("#")]),t._v(" 类型声明文件")]),t._v(" "),a("p",[t._v("我们知道TS代码文件的类型是"),a("code",[t._v(".ts")]),t._v("文件，实际开发中会出现另一种类型："),a("code",[t._v(".d.ts")]),t._v("文件。")]),t._v(" "),a("p",[t._v("这是因为：在开发的过程中，不可避免要使用到第三方的JS库。")]),t._v(" "),a("p",[t._v("我们在使用第三方库的时候，会发现它们几乎都有相应的TS类型。")]),t._v(" "),a("p",[t._v("这是由于类型声明文件，给已存在的JS库提供了类型信息。")]),t._v(" "),a("p",[t._v("因此，在 TS 项目中使用这些库时，就像用 TS 一样，都会有代码提示、类型保护等机制了。")]),t._v(" "),a("h2",{attrs:{id:"介绍"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#介绍"}},[t._v("#")]),t._v(" 介绍")]),t._v(" "),a("p",[t._v("类型声明文件就是用来提供类型信息的文件，只包含类型信息，不包含可执行代码。编译时不会生成相应的"),a("code",[t._v("js")]),t._v("文件。作用是给JS提供类型信息。")]),t._v(" "),a("p",[t._v("所以JS库要能够提供类型信息，需要使用"),a("code",[t._v(".d.ts")]),t._v("文件。")]),t._v(" "),a("h2",{attrs:{id:"内置类型声明文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#内置类型声明文件"}},[t._v("#")]),t._v(" 内置类型声明文件")]),t._v(" "),a("p",[t._v("TS为JS运行时可用的所有标准化内置API都提供了声明文件。")]),t._v(" "),a("p",[t._v("例如，使用数组的"),a("code",[t._v("forEach")]),t._v("方法的时候：")]),t._v(" "),a("p",[a("img",{attrs:{src:s(423),alt:"forEach"}})]),t._v(" "),a("p",[t._v("会显示出对应类型声明文件，上面是"),a("code",[t._v("lib.es5.d.ts")]),t._v("。")]),t._v(" "),a("h2",{attrs:{id:"第三方库类型声明文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#第三方库类型声明文件"}},[t._v("#")]),t._v(" 第三方库类型声明文件")]),t._v(" "),a("ol",[a("li",[t._v("有的第三方库自带有类型声明文件，例如"),a("code",[t._v("vue")]),t._v("：")])]),t._v(" "),a("p",[a("img",{attrs:{src:s(424),alt:"vue"}})]),t._v(" "),a("p",[t._v("这种情况下，正常导入该库，TS 就会自动加载库自己的类型声明文件，以提供该      库的类型声明。")]),t._v(" "),a("ol",{attrs:{start:"2"}},[a("li",[a("p",[t._v("如果第三方库中没有，可以下载对应的TS类型声明包：")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("npm i --save-dev @types/* // *表示库的名称\n// 例如：\nnpm i --save-dev @types/react\n")])])]),a("blockquote",[a("p",[t._v("具体可以查看"),a("a",{attrs:{href:"https://github.com/DefinitelyTyped/DefinitelyTyped/",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("DefinitelyTyped")]),a("OutboundLink")],1),t._v(".")])])])]),t._v(" "),a("h3",{attrs:{id:"自定义类型声明文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#自定义类型声明文件"}},[t._v("#")]),t._v(" 自定义类型声明文件")]),t._v(" "),a("p",[t._v("当类型需要多个文件共享，可以使用模块机制（"),a("code",[t._v("import/export")]),t._v("）。")]),t._v(" "),a("p",[t._v("当需要给存在的变量声明类型，可以使用"),a("code",[t._v("declare")]),t._v("关键字：")]),t._v(" "),a("div",{staticClass:"language-typescript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-typescript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("declare")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("jQuery")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("selector"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("string")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("any")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("jQuery")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'#foo'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("ul",[a("li",[t._v("对于 type、interface 等这些明确就是 TS 类型的（只能在 TS 中使用的），可以省略 declare 关键字。")]),t._v(" "),a("li",[t._v("对于 let、function 等具有双重含义（在 JS、TS 中都能用），应该使用 declare 关键字，明确指定此处用于类型声明。")])]),t._v(" "),a("h2",{attrs:{id:"联系我"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#联系我"}},[t._v("#")]),t._v(" 联系我")])])}),[],!1,null,null,null);a.default=r.exports}}]);